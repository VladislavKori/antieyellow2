import{u as k,a as u,r as e,j as r,b as s,S as V,I as o,B as C,t as y,v as H,w as M,i as Z,x as I,g as A,L as B}from"./index-864a135d.js";function F({setPage:a}){const n=k(),l=u(h=>h.settings),t=u(h=>h.auth.userInfo),[d,c]=e.useState(!1),[i,g]=e.useState(!1),[p,L]=e.useState(""),[m,f]=e.useState(""),[E,w]=e.useState(""),[_,S]=e.useState(t.vklink),[v,N]=e.useState(t.tglink);e.useEffect(()=>{l.error&&(c(!0),setTimeout(()=>{c(!1)},2e3)),l.success&&(g(!0),setTimeout(()=>{g(!1)},2e3))},[l.error,l.success]);const x=()=>{n(y({currentPassword:p,newPassword:m})),L(""),f(""),w("")},P=()=>{n(H()),typeof window<"u"&&(window.location.href="/")},b=()=>{n(M({vklink:_,tglink:v}))};return r("div",{className:"settings",children:[r("header",{className:"settings__header",children:[s("button",{className:"settings__goback",onClick:()=>a(!1),children:s(V,{})}),s("h1",{className:"settings__title",children:"Настройки"})]}),s(o,{lable:"Изменить пароль",placeholder:"Введите старый пароль",value:p,setValue:L,type:"password"}),s(o,{placeholder:"Введите новый пароль",value:m,setValue:f,type:"password"}),s(o,{placeholder:"Повторите новый пароль",value:E,setValue:w,type:"password"}),d?s("p",{style:{color:"red"},children:l.error}):null,i?s("p",{style:{color:"green"},children:"Пароль успешно изменён"}):null,s(C,{onClick:x,children:"Изменить"}),s(o,{lable:"Ссылка на ВКонтакте",placeholder:"https://example.com/",value:_,setValue:S,type:"text"}),s(o,{lable:"Ссылка на Telegram",placeholder:"https://example.com/",value:v,setValue:N,type:"text"}),r("div",{className:"settings__btns",children:[s(C,{onClick:b,children:"Сохранить изменения"}),s(C,{className:"settings__logout",onClick:P,children:"Выйти из аккаунта"})]})]})}const T=a=>e.createElement("svg",{width:30,height:30,viewBox:"0 0 30 30",fill:"none",xmlns:"http://www.w3.org/2000/svg",...a},e.createElement("g",{clipPath:"url(#clip0_92_1721)"},e.createElement("path",{d:"M0.296875 14.5565C0.296875 7.86043 0.296875 4.51244 2.37707 2.43224C4.45726 0.352051 7.80526 0.352051 14.5013 0.352051H15.685C22.3811 0.352051 25.7291 0.352051 27.8093 2.43224C29.8895 4.51244 29.8895 7.86043 29.8895 14.5565V15.7402C29.8895 22.4363 29.8895 25.7842 27.8093 27.8645C25.7291 29.9446 22.3811 29.9446 15.685 29.9446H14.5013C7.80526 29.9446 4.45726 29.9446 2.37707 27.8645C0.296875 25.7842 0.296875 22.4363 0.296875 15.7402V14.5565Z",fill:"#0077FF"}),e.createElement("path",{d:"M16.0429 21.6709C9.29829 21.6709 5.45131 17.0471 5.29102 9.35303H8.6695C8.78048 15.0003 11.2711 17.3923 13.244 17.8856V9.35303H16.4253V14.2235C18.3735 14.0139 20.42 11.7944 21.1105 9.35303H24.2918C23.7616 12.3616 21.5422 14.5811 19.9639 15.4935C21.5422 16.2333 24.07 18.1692 25.0317 21.6709H21.5298C20.7777 19.3282 18.9037 17.5156 16.4253 17.269V21.6709H16.0429Z",fill:"white"})),e.createElement("defs",null,e.createElement("clipPath",{id:"clip0_92_1721"},e.createElement("rect",{width:29.5926,height:29.5926,fill:"white",transform:"translate(0.296875 0.352051)"})))),U=a=>e.createElement("svg",{width:39,height:39,viewBox:"0 0 39 39",fill:"none",xmlns:"http://www.w3.org/2000/svg",...a},e.createElement("path",{d:"M35.105 19.1482C35.105 27.9603 27.9603 35.105 19.1482 35.105C10.3361 35.105 3.19141 27.9603 3.19141 19.1482C3.19141 10.3361 10.3361 3.19141 19.1482 3.19141C27.9603 3.19141 35.105 10.3361 35.105 19.1482Z",fill:"url(#paint0_linear_92_1716)"}),e.createElement("path",{opacity:.05,d:"M8.07304 18.7221C14.5794 15.774 22.2211 12.5755 23.3979 12.1128C25.9925 11.0923 27.1239 12.1351 26.9467 13.7986C26.7289 15.8371 25.6965 21.769 25.0614 26.0191C24.6896 28.506 23.3429 29.2679 21.823 28.3033C20.6701 27.5717 16.7065 24.9763 15.6637 24.0891C14.9528 23.4844 14.4574 22.8062 14.9616 22.1153C15.1092 21.9134 15.4866 21.5065 15.6964 21.3039C16.7487 20.2842 16.6067 20.0648 15.3342 20.9752C15.1826 21.0837 14.3034 21.7211 13.942 21.9621C13.0563 22.5525 12.2418 22.5844 10.8607 22.1153C9.73095 21.7315 8.64589 21.4355 7.96135 21.1395C7.01591 20.7302 6.65369 19.3651 8.07304 18.7221Z",fill:"black"}),e.createElement("path",{opacity:.07,d:"M8.64576 18.822C14.687 16.1214 22.1165 13.0265 23.2031 12.5885C25.8073 11.537 26.7655 12.1609 26.4854 14.193C26.2254 16.0743 25.3023 21.8953 24.6552 25.7976C24.2738 28.0945 23.1601 28.6004 21.7096 27.6621C20.8008 27.0765 17.1435 24.667 16.2563 23.9657C15.5702 23.424 14.8593 22.7985 15.6899 21.8929C15.9675 21.5906 17.501 20.1106 18.6475 19.0095C19.3121 18.3705 19.0751 18.0553 18.2733 18.6042C16.8029 19.6119 14.3974 21.2068 13.9681 21.4964C13.1504 22.0469 12.382 22.1794 11.0449 21.7589C9.99091 21.427 8.97287 21.1055 8.44231 20.8988C7.25672 20.4393 7.24076 19.4499 8.64576 18.822Z",fill:"black"}),e.createElement("path",{d:"M9.21723 18.9224C14.7941 16.469 22.0106 13.4779 23.0071 13.0638C25.62 11.9804 26.4218 12.1878 26.0221 14.5877C25.7349 16.3126 24.9067 22.0228 24.2461 25.5771C23.8544 27.685 22.9752 27.9348 21.5933 27.0228C20.9287 26.584 17.5738 24.3652 16.8454 23.8442C16.1808 23.3695 15.2641 22.7983 16.4137 21.6733C16.823 21.2728 19.5046 18.7117 21.5941 16.7187C21.8678 16.457 21.5239 16.027 21.208 16.2368C18.3916 18.1046 14.487 20.6968 13.9899 21.0342C13.2391 21.5441 12.5179 21.7778 11.2238 21.406C10.2456 21.1252 9.29063 20.7901 8.91883 20.6625C7.48671 20.171 7.82659 19.5343 9.21723 18.9224Z",fill:"white"}),e.createElement("defs",null,e.createElement("linearGradient",{id:"paint0_linear_92_1716",x1:7.86515,y1:7.86515,x2:30.4312,y2:30.4312,gradientUnits:"userSpaceOnUse"},e.createElement("stop",{stopColor:"#33BEF0"}),e.createElement("stop",{offset:1,stopColor:"#0A85D9"})))),O=a=>e.createElement("svg",{width:28,height:29,viewBox:"0 0 28 29",fill:"none",xmlns:"http://www.w3.org/2000/svg",...a},e.createElement("path",{d:"M26.263 11.8488L24.0169 11.3509C23.8419 10.7909 23.6126 10.2554 23.3501 9.74L24.5655 7.71612C25.0188 6.99075 25.248 5.925 24.5655 5.24075L23.3274 4.0035C22.6449 3.32013 21.4916 3.4435 20.7951 3.9265L18.8255 5.18125C18.3145 4.91612 17.7799 4.68862 17.2251 4.50925L16.7211 2.236C16.5706 1.40212 15.8418 0.5 14.8749 0.5H13.1249C12.1589 0.5 11.5665 1.41612 11.3749 2.25L10.8131 4.49612C10.2199 4.68512 9.65115 4.92663 9.10865 5.21275L7.08915 3.9265C6.39352 3.4435 5.2394 3.321 4.5569 4.0035L3.31877 5.24075C2.6354 5.925 2.86465 6.99075 3.31877 7.71525L4.59715 9.84587C4.3574 10.3289 4.14477 10.8285 3.98027 11.3509L1.73502 11.8488C0.901148 11.9984 -0.000976562 12.7281 -0.000976562 13.6941V15.4441C-0.000976562 16.411 0.915148 17.0034 1.74902 17.1941L4.02227 17.762C4.1789 18.2441 4.37577 18.707 4.59802 19.1559L3.31877 21.2891C2.86552 22.0136 2.63627 23.0802 3.31877 23.7636L4.5569 25.0009C5.2394 25.6851 6.39265 25.5609 7.08915 25.0788L9.11302 23.789C9.65815 24.0769 10.2304 24.321 10.828 24.5091L11.388 26.7482C11.5796 27.5821 12.172 28.4982 13.138 28.4982H14.888C15.8549 28.4982 16.5838 27.5953 16.7343 26.7614L17.2391 24.4829C17.7886 24.3053 18.3154 24.0812 18.8211 23.8196L20.7951 25.0779C21.4916 25.5609 22.6449 25.6834 23.3283 25L24.5664 23.7628C25.2489 23.0785 25.0196 22.0127 24.5664 21.2882L23.3501 19.2609C23.5943 18.7805 23.806 18.2809 23.9766 17.7611L26.2508 17.1932C27.0846 17.0016 28.0008 16.4101 28.0008 15.4432V13.6932C28.0008 12.7273 27.0986 11.9975 26.2639 11.847L26.263 11.8488ZM26.2508 15.3216C26.1764 15.375 26.0364 15.4485 25.8588 15.4896L22.6143 16.2999L22.3133 17.2195C22.1776 17.6343 22.0018 18.0542 21.7909 18.469L21.3516 19.3317L23.0658 22.1904C23.1751 22.3654 23.2259 22.522 23.2416 22.6147L22.0901 23.7645C21.979 23.7295 21.853 23.684 21.7918 23.642L18.9113 21.8054L18.0161 22.2682C17.5848 22.4923 17.142 22.6778 16.701 22.8204L15.7473 23.1284L15.0263 26.386C14.993 26.5601 14.8994 26.701 14.8355 26.7509H13.2605C13.2071 26.6765 13.1336 26.5365 13.0934 26.3589L12.2875 23.138L11.3548 22.8423C10.8744 22.6909 10.3949 22.4888 9.92852 22.2437L9.02902 21.7686L6.14765 23.6052C6.02952 23.6849 5.90352 23.7304 5.78977 23.7304L4.64265 22.6139C4.6584 22.5229 4.70565 22.3741 4.80102 22.221L6.5904 19.239L6.16427 18.3815C5.96565 17.9773 5.80815 17.5984 5.68565 17.2221L5.38552 16.3016L2.1734 15.4984C1.97127 15.4529 1.82515 15.3767 1.74902 15.3234V13.6959C1.74902 13.6959 1.75077 13.6967 1.7534 13.6967C1.78315 13.6967 1.92665 13.5944 2.04652 13.5725L5.34702 12.8419L5.64977 11.8767C5.77315 11.4839 5.94115 11.0744 6.16427 10.6255L6.5904 9.768L4.8194 6.81662C4.71002 6.64075 4.6584 6.48413 4.64352 6.39225L5.79415 5.2425C5.90615 5.27838 6.03127 5.32387 6.09165 5.365L9.0264 7.23575L9.92502 6.7615C10.3861 6.51825 10.8639 6.31787 11.3443 6.16475L12.2744 5.869L13.0724 2.67613C13.1188 2.474 13.1931 2.32788 13.2474 2.25175H14.874C14.8618 2.26925 14.9746 2.42238 14.9983 2.54838L15.7333 5.86812L16.6861 6.17613C17.1333 6.3205 17.5813 6.50863 18.0188 6.73525L18.9139 7.20075L21.7349 5.40438C21.853 5.32387 21.979 5.27925 22.0928 5.27925L23.2416 6.39575C23.2268 6.48675 23.1786 6.63725 23.0833 6.7895L21.3508 9.6735L21.7926 10.538C22.0315 11.0044 22.2126 11.4419 22.3483 11.8759L22.651 12.8419L25.8859 13.5594C26.0819 13.5953 26.2341 13.709 26.2656 13.7703L26.2508 15.3216ZM14.0113 9.24125C11.1054 9.24125 8.74115 11.6011 8.74115 14.5C8.74115 17.3989 11.1054 19.7588 14.0113 19.7588C16.9171 19.7588 19.2814 17.3989 19.2814 14.5009C19.2814 11.602 16.9171 9.24213 14.0113 9.24213V9.24125ZM13.9999 18C12.0705 18 10.4999 16.4303 10.4999 14.5C10.4999 12.5697 12.0696 11 13.9999 11C15.9301 11 17.4999 12.5697 17.4999 14.5C17.4999 16.4303 15.9301 18 13.9999 18Z",fill:"#1F1F1F"}));function j(){const{userId:a}=Z(),n=k(),l=u(i=>i.auth),t=u(i=>i.user),[d,c]=e.useState(!1);return e.useEffect(()=>{a!=null&&n(I({id:a}))},[]),t.loading||l.loading?s("h1",{className:"error-text",children:"Загрузка"}):t.error||!t.user?r("h1",{className:"error-text",children:[t.error,' "userpage"']}):r("div",{className:"userpage",children:[s("div",{className:"userpage__avatar",style:{background:`url('${A.SERVER_HOST+"/"+t.user.avatar}')`,backgroundPosition:"center",backgroundRepeat:"no-repeat",backgroundSize:"cover"}}),d?s(F,{setPage:c}):r("div",{className:"userpage__info",children:[s("h1",{className:"userpage__name",children:t.user.username}),r("p",{className:"userpage__data-create",children:["Дата регестрации: ",t.user.createdAt]}),r("div",{className:"userpage__socials",children:[t.user.vklink?s("a",{href:t.user.vklink,children:s(T,{})}):null,t.user.tglink?s("a",{href:t.user.tglink,children:s(U,{})}):null]}),l.userInfo&&l.userInfo.id==t.user.id?r("div",{className:"userpage__btn-bar",children:[s(C,{className:"userpage__settings-btn",onClick:()=>c(!0),children:s(O,{className:"userpage__icon"})}),l.isAdmin?s(B,{className:"userpage__link",to:"/admin/galary",children:"Админка"}):null]}):null]})]})}export{j as default};
